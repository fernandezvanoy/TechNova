{% load static %}
{% load i18n %}
<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE|default:'es'|slice:':2' }}">

<head>
    <meta charset="UTF-8">
    <title>{% blocktrans %}Detalle de la orden - TechNova{% endblocktrans %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>

<body class="bg-gradient-to-b from-gray-900 via-gray-800 to-gray-950 text-gray-200 font-['Roboto']">

    <!-- Fondo de Imagen -->
    <div class="fixed inset-0 -z-10">
        <img src="{% static 'productos/img/setup3.png' %}" alt="{% trans 'Setup gamer' %}" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-black/70"></div> <!-- Capa oscura para mejorar legibilidad -->
    </div>

    <!-- Navbar -->
    {% include 'navbar.html' %}

    <!-- Contenedor principal-->
    <main class="max-w-4xl mx-auto mt-16 p-8 bg-gray-900/80 backdrop-blur-md rounded-3xl shadow-2xl">
        
        <h1 class="text-3xl font-bold text-white mb-6 text-center">
            {% blocktrans with order_id=orden.id %}Detalle de la orden #{{ order_id }}{% endblocktrans %}
        </h1>

        <!-- Información Básica de la Orden -->
        <div class="mb-6">
            <p><strong>{% trans "Estado:" %}</strong> <span class="font-semibold">{{ orden.estado }}</span></p>
            <p><strong>{% trans "Total:" %}</strong> <span class="font-semibold">${{ orden.total }}</span></p>
        </div>

        <!-- Lista de Productos de la Orden -->
        <h2 class="text-2xl font-bold text-white mb-4">{% trans "Productos en esta orden:" %}</h2>
        <ul class="space-y-3">
            {% for item in orden.items.all %}
            <li class="bg-gray-800/80 p-4 rounded-xl shadow flex justify-between items-center">
                <!-- Nombre del Producto -->
                <span>{{ item.producto.nombre }}</span>
                <!-- Cantidad del Producto -->
                <span>{% blocktrans with cantidad=item.cantidad %}Cantidad: {{ cantidad }}{% endblocktrans %}</span>
                <!-- Subtotal del Producto -->
                <span>{% blocktrans with subtotal=item.subtotal %}Subtotal: ${{ subtotal }}{% endblocktrans %}</span>
            </li>
            {% endfor %}
        </ul>

        <!-- Botones -->
        <div class="mt-8 flex gap-4 justify-center">
            <a href="{% url 'lista_ordenes' %}"
                class="px-6 py-3 bg-gray-800 text-white font-bold rounded-lg hover:bg-gray-700 transition">
                ⬅ {% trans "Volver a mis órdenes" %}
            </a>
            <a href="{% url 'home' %}"
                class="px-6 py-3 bg-white text-black font-bold rounded-lg hover:bg-gray-200 transition">
                ⬅ {% trans "Volver al inicio" %}
            </a>
        </div>
    </main>

</body>
</html>
