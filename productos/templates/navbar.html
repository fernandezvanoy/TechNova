{% load static i18n %}
<nav class="backdrop-blur bg-gray-900/80 border-b border-white/50 sticky top-0 z-50">
  <div class="flex justify-between items-center px-6 py-4 gap-4">

    <!-- Logo -->
    <a href="/" class="flex items-center gap-2 shrink-0">
      <img src="{% static 'productos/img/logo.png' %}" alt="TechNova" class="h-10">
    </a>

    <!-- Buscador -->
    <form action="{% url 'buscar_productos' %}" method="get" class="flex gap-2 items-center relative z-50">
      <input
        type="text"
        name="q"
        placeholder="{% trans 'Buscar...' %}"
        class="px-3 py-2 rounded-xl bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-white w-64"
      >
      <button class="px-4 py-2 rounded-xl bg-gray-700 text-white hover:bg-gray-600 transition">
        {% trans "Buscar" %}
      </button>
    </form>

    <!-- Acciones -->
    <div class="flex items-center gap-6 text-sm">
      {% if user.is_authenticated %}
        <span>{% trans "Hola" %}, {{ user.username }}</span>
        <a href="{% url 'logout' %}" class="hover:text-white">{% trans "Cerrar sesiÃ³n" %}</a>
      {% else %}
        <a href="{% url 'login' %}" class="hover:text-white">{% trans "Iniciar sesiÃ³n" %}</a>
        <a href="{% url 'registro' %}" class="hover:text-white">{% trans "Registrarse" %}</a>
      {% endif %}

      {% if user.is_authenticated %}
        <a href="{% url 'ordenes_vendedor' %}" class="hover:text-white">ğŸ“¦ {% trans "Pedidos" %}</a>
        <a href="{% url 'ver_carrito' %}" class="hover:text-white">ğŸ›’ {% trans "Carrito" %}</a>
        <a href="{% url 'lista_ordenes' %}" class="hover:text-white">ğŸ›ï¸ {% trans "Mis compras" %}</a>
        <a href="{% url 'mis_productos' %}" class="hover:text-white">ğŸ’» {% trans "Mis productos" %}</a>
      {% else %}
        <a href="{% url 'login' %}" class="hover:text-white">ğŸ“¦ {% trans "Pedidos" %}</a>
        <a href="{% url 'login' %}" class="hover:text-white">ğŸ›’ {% trans "Carrito" %}</a>
        <a href="{% url 'login' %}" class="hover:text-white">ğŸ›ï¸ {% trans "Mis compras" %}</a>
        <a href="{% url 'login' %}" class="hover:text-white">ğŸ’» {% trans "Mis productos" %}</a>
      {% endif %}

      <!-- Selector de idioma -->
      <form action="{% url 'set_language' %}" method="post" class="flex items-center">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.get_full_path }}">
        <select name="language"
                class="bg-gray-800 text-white text-sm rounded-md px-2 py-1 border border-gray-700 focus:outline-none focus:ring-1 focus:ring-white"
                onchange="this.form.submit()">
          {% get_current_language as LANGUAGE_CODE %}
          <option value="es" {% if LANGUAGE_CODE == 'es' %}selected{% endif %}>ğŸ‡ªğŸ‡¸ ES</option>
          <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>ğŸ‡¬ğŸ‡§ EN</option>
        </select>
      </form>
    </div>

  </div>
</nav>
